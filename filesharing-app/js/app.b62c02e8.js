(function(){var e={50651:function(e,a,t){"use strict";var i=t(49242),n=t(73396),l=t(44870);const o={class:"row g-5"},s=(0,n._)("div",{class:"col"},[(0,n._)("div",{class:"p-3 border bg-light"},[(0,n._)("div",{class:"display-3 text-center"},"CS633 Multi-Week Assignment")])],-1),r=[s];function u(e,a){return(0,n.wg)(),(0,n.iD)("div",o,r)}var d=t(40089);const c={},m=(0,d.Z)(c,[["render",u]]);var f=m,p=t(87139);const _={class:"row g-5 menubar"},g={class:"col"},v={clss:"d-flex"},h={class:"p-2 text-end"},b=(0,n.Uk)("Log In as UserID: ");function y(e,a,t,i,l,o){return(0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("div",g,[(0,n._)("div",v,[(0,n._)("div",h,[(0,n._)("span",null,[b,(0,n._)("strong",null,(0,p.zw)(t.msg),1)]),(0,n._)("button",{type:"button",class:"btn btn-outline-dark",onClick:a[0]||(a[0]=(...e)=>o.onSignout&&o.onSignout(...e))},"Sign Out")])])])])}var w={name:"MenuBar",props:{msg:String},methods:{onSignout(){this.$emit("signout")}}};const E=(0,d.Z)(w,[["render",y],["__scopeId","data-v-1ee2f83a"]]);var S=E;const O=e=>((0,n.dD)("data-v-175bc935"),e=e(),(0,n.Cn)(),e),C={class:"row g-5 body-container"},M={class:"col-md body-content border justify-content-center"},I={id:"fileGroup"},T=O((()=>(0,n._)("span",{class:"form-label"}," File to Share ",-1))),L={class:"form-alert"},k={id:"emailGroup"},B=O((()=>(0,n._)("span",{class:"form-label"},"Send Address",-1))),F={class:"form-alert"},R={class:"form-floating mb-3"},D=O((()=>(0,n._)("label",null,"Email address",-1))),P={class:"form-alert"},N={class:"form-floating mb-3"},A=O((()=>(0,n._)("label",null,"Email address",-1))),j={class:"form-alert"},x={class:"form-floating mb-3"},U=O((()=>(0,n._)("label",null,"Email address",-1))),V={class:"form-alert"},W={class:"form-floating mb-3"},q=O((()=>(0,n._)("label",null,"Email address",-1))),K={class:"form-alert"},Z={class:"form-floating mb-3"},z=O((()=>(0,n._)("label",null,"Email address",-1))),H={class:"form-alert"},$={class:"d-grid gap-2 mt-3 mb-3"};function G(e,a,t,l,o,s){return(0,n.wg)(),(0,n.iD)("div",C,[(0,n._)("div",M,[(0,n._)("form",null,[(0,n._)("div",null,[(0,n._)("div",I,[T,(0,n.wy)((0,n._)("span",L," Please CHOOSE the FILE to share! ",512),[[i.F8,!o.validations.file]]),(0,n._)("input",{class:"form-control",type:"file",id:"formFile",onChange:a[0]||(a[0]=e=>s.handleFileChange(e)),required:""},null,32)])]),(0,n._)("div",null,[(0,n._)("div",k,[B,(0,n.wy)((0,n._)("span",F," Please ENTER at least ONE EMAIL address! ",512),[[i.F8,!o.validations.notEmpty]]),(0,n._)("div",R,[(0,n.wy)((0,n._)("input",{type:"email",class:"form-control",id:"email1",ref:"email1","onUpdate:modelValue":a[1]||(a[1]=e=>o.email1=e),onBlur:a[2]||(a[2]=e=>s.validateEmail(e))},null,544),[[i.nr,o.email1]]),D,(0,n.wy)((0,n._)("span",P," Please ENTER the CORRECT form of EMAIL address! ",512),[[i.F8,!o.validations.email1]])]),(0,n._)("div",N,[(0,n.wy)((0,n._)("input",{type:"email",class:"form-control",id:"email2",ref:"email2","onUpdate:modelValue":a[3]||(a[3]=e=>o.email2=e),onBlur:a[4]||(a[4]=e=>s.validateEmail(e))},null,544),[[i.nr,o.email2]]),A,(0,n.wy)((0,n._)("span",j," Please ENTER the CORRECT form of EMAIL address! ",512),[[i.F8,!o.validations.email2]])]),(0,n._)("div",x,[(0,n.wy)((0,n._)("input",{type:"email",class:"form-control",id:"email3",ref:"email3","onUpdate:modelValue":a[5]||(a[5]=e=>o.email3=e),onBlur:a[6]||(a[6]=e=>s.validateEmail(e))},null,544),[[i.nr,o.email3]]),U,(0,n.wy)((0,n._)("span",V," Please ENTER the CORRECT form of EMAIL address! ",512),[[i.F8,!o.validations.email3]])]),(0,n._)("div",W,[(0,n.wy)((0,n._)("input",{type:"email",class:"form-control",id:"email4",ref:"email4","onUpdate:modelValue":a[7]||(a[7]=e=>o.email4=e),onBlur:a[8]||(a[8]=e=>s.validateEmail(e))},null,544),[[i.nr,o.email4]]),q,(0,n.wy)((0,n._)("span",K," Please ENTER the CORRECT form of EMAIL address! ",512),[[i.F8,!o.validations.email4]])]),(0,n._)("div",Z,[(0,n.wy)((0,n._)("input",{type:"email",class:"form-control",id:"email5",ref:"email5","onUpdate:modelValue":a[9]||(a[9]=e=>o.email5=e),onBlur:a[10]||(a[10]=e=>s.validateEmail(e))},null,544),[[i.nr,o.email5]]),z,(0,n.wy)((0,n._)("span",H," Please ENTER the CORRECT form of EMAIL address! ",512),[[i.F8,!o.validations.email5]])])])]),(0,n._)("div",null,[(0,n._)("div",$,[(0,n._)("button",{type:"button",class:"btn btn-outline-primary btn-lg",onClick:a[11]||(a[11]=(...e)=>s.onSubmit&&s.onSubmit(...e))}," Submit ")])])])])])}var J={name:"MainBody",data(){return{file:null,regExp:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,email1:"",email2:"",email3:"",email4:"",email5:"",emailList:[],validations:{file:!0,email1:!0,email2:!0,email3:!0,email4:!0,email5:!0,notEmpty:!0}}},methods:{validateEmail(e){let a=e.target.value.trim(),t=e.target.id;this.validations[t]=!0,""===a||this.regExp.test(a)||(this.validations[t]=!1,this[t]="",this.$refs[t].focus())},checkInput(){this.validations["file"]=!0,this.validations["notEmpty"]=!0;let e=0;null===this.file&&(this.validations["file"]=!1,e++);for(let i=1;i<=5;i++){var a="email"+i,t=this[a];""!==t&&this.emailList.push(t)}return 0==this.emailList.length&&(this.validations["notEmpty"]=!1,e++),e},onSubmit(){let e=this.checkInput();if(e>0)alert("Please CHECK the FORM!");else{const{file:e,emailList:a}=this;this.$emit("submit",{file:e,emailList:a}),this.file=null,this.emailList=[]}},handleFileChange(e){this.file=e.target.files[0]}}};const Q=(0,d.Z)(J,[["render",G],["__scopeId","data-v-175bc935"]]);var X=Q;const Y={class:"row g-5"},ee=(0,n._)("div",{class:"col"},[(0,n._)("div",{class:"p-2 border bg-light"},[(0,n._)("h5",{class:"text-end"},"Haeun Suh BlazerId: hsuh Email: hsuh@uab.edu")])],-1),ae=[ee];function te(e,a){return(0,n.wg)(),(0,n.iD)("div",Y,ae)}const ie={},ne=(0,d.Z)(ie,[["render",te]]);var le=ne,oe=t(24840),se=t.n(oe);const re="fileuploadcs633",ue="us-east-2",de="us-east-2:c7a23de6-8f5a-44c6-b837-c9c7e8e563b8",ce="cs633Table";se().config.update({region:ue,credentials:new(se().CognitoIdentityCredentials)({IdentityPoolId:de})});const me={BucketName:re,Region:ue,IdentityPoolId:de,DynamoDBTable:ce};var fe=me,pe=t(87968);const _e={id:"app",class:"container"},ge=["value"],ve={name:"App",components:{Authenticator:pe._F,MainHeader:f,MenuBar:S,MainBody:X,MainFooter:le},methods:{onSubmit(e){let{file:a,emailList:t}=e,i=a.name,n=new(se().S3.ManagedUpload)({params:{Bucket:fe.BucketName,Key:i,Body:a}}),l=n.promise();l.then((function(e){let n={ETag:{S:e.ETag},uploader:{S:document.querySelector("#userName").value},uploadBucket:{S:e.Bucket},uploadLocation:{S:e.Location},uploadKey:{S:e.key},uploadedDate:{S:JSON.stringify(new Date)},fileName:{S:i},size:{S:a.size+" KB"},sharedMailAddresses:{S:t.join(", ")},modifiedDate:{S:JSON.stringify(a.lastModifiedDate)}};console.log(n);var l={TableName:fe.DynamoDBTable,Item:n};new(se().DynamoDB)({apiVersion:"2012-08-10"}).putItem(l,(function(e,a){e?console.log("Error",e):(console.log("Success",a),alert("Successfully uploaded file."))})),console.log("TODO: connect with Lambda please!")}),(function(e){console.log(e),alert("There was an error uploading your file: ",e.message)}))}}};var he=Object.assign(ve,{setup(e){return(e,a)=>((0,n.wg)(),(0,n.iD)("div",_e,[(0,n.Wm)(f),(0,n.Wm)((0,l.SU)(pe._F),null,{default:(0,n.w5)((({user:a,signOut:t})=>[(0,n._)("input",{type:"hidden",id:"userName",value:a.username},null,8,ge),(0,n.Wm)(S,{msg:a.username,onSignout:t},null,8,["msg","onSignout"]),(0,n.Wm)(X,{onSubmit:e.onSubmit},null,8,["onSubmit"])])),_:1}),(0,n.Wm)(le)]))}});const be=he;var ye=be,we=t(87429),Ee=t(61961);const Se={aws_project_region:"us-east-2",aws_cognito_identity_pool_id:"us-east-2:2e23b111-8172-4fab-abce-eff2bcace462",aws_cognito_region:"us-east-2",aws_user_pools_id:"us-east-2_RFgt05tKQ",aws_user_pools_web_client_id:"304mac9tnteh4lqle2kbbrkq5q",oauth:{},aws_cognito_username_attributes:[],aws_cognito_social_providers:[],aws_cognito_signup_attributes:["EMAIL"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:["SMS"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:[]},aws_cognito_verification_mechanisms:["EMAIL"]};var Oe=Se;t(38937);we.dQ.configure(Oe);const Ce=(0,i.ri)(ye);Ce.use(pe.ZP),Ce.use(Ee.g),Ce.mount("#app")},56249:function(){},28022:function(){},42480:function(){}},a={};function t(i){var n=a[i];if(void 0!==n)return n.exports;var l=a[i]={id:i,loaded:!1,exports:{}};return e[i].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}t.m=e,function(){var e=[];t.O=function(a,i,n,l){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],n=e[d][1],l=e[d][2];for(var s=!0,r=0;r<i.length;r++)(!1&l||o>=l)&&Object.keys(t.O).every((function(e){return t.O[e](i[r])}))?i.splice(r--,1):(s=!1,l<o&&(o=l));if(s){e.splice(d--,1);var u=n();void 0!==u&&(a=u)}}return a}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[i,n,l]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var i in a)t.o(a,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:a[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,i){var n,l,o=i[0],s=i[1],r=i[2],u=0;if(o.some((function(a){return 0!==e[a]}))){for(n in s)t.o(s,n)&&(t.m[n]=s[n]);if(r)var d=r(t)}for(a&&a(i);u<o.length;u++)l=o[u],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(d)},i=self["webpackChunkfilesharing_app"]=self["webpackChunkfilesharing_app"]||[];i.forEach(a.bind(null,0)),i.push=a.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(50651)}));i=t.O(i)})();
//# sourceMappingURL=app.b62c02e8.js.map